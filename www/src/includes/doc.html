<header class="main-header" id="mainheader">
  <div class="container">
    <a href="/docs" class="logo">nova<span>docs</span></a>
    <nav class="main-nav">
      <ul>
        <li><a href="/">homepage</a></li>
        <li><a href="https://github.com/xlc-dev/nova">github</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="docs-layout">
  <div class="container">
    <aside class="docs-sidebar">
      <nav class="sidebar-nav">
        <h5>Getting Started</h5>
        <ul>
          <li><a href="/docs">Introduction</a></li>
          <li><a href="/docs/quickstart.html">Quickstart</a></li>
          <li><a href="/docs/scaffolding.html">Scaffolding</a></li>
        </ul>
        <h5>Core Concepts</h5>
        <ul>
          <li><a href="/docs/cli.html">CLI</a></li>
          <li><a href="/docs/router.html">Router</a></li>
          <li>
            <a href="/docs/database_migrations.html">Database Migrations</a>
          </li>
          <li><a href="/docs/middleware.html">Middleware</a></li>
          <li><a href="/docs/openapi.html">OpenAPI</a></li>
        </ul>
        <h5>Extras</h5>
        <ul>
          <li><a href="/docs/faq.html">FAQ</a></li>
          <li><a href="/docs/reference.html">Reference</a></li>
        </ul>
      </nav>
    </aside>

    <article class="docs-content">{{content}}</article>
  </div>
</main>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("mainheader");
    if (header) {
      window.addEventListener("scroll", () => {
        if (window.scrollY > 20) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      });
    }

    // Function to normalize paths by removing trailing slashes
    const normalizePath = (path) => {
      return path.replace(/\/$/, "") || "/";
    };

    const currentPath = normalizePath(window.location.pathname);
    const sidebarLinks = document.querySelectorAll(".sidebar-nav a");

    sidebarLinks.forEach((link) => {
      link.classList.remove("active");
      const linkPath = normalizePath(link.getAttribute("href"));

      if (linkPath === currentPath) {
        link.classList.add("active");
        return;
      }

      if (currentPath === "/docs" && linkPath === "/docs") {
        link.classList.add("active");
      }
    });
  });
</script>
